"use strict";angular.module("pageDemoApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("pageDemoApp").controller("MainCtrl",["$scope","$http",function(a,b){a.getData=function(){a.key="",b.get("/data.json").success(function(b){a.data=b.Details,console.log(a.data)})}(),a.direction,a.previousSort="",a.toggleRatingSort=function(){a.neverBeenRating||(a.ratingDirDown=!1),a.ordering="ratings.number",0==a.previousSort&&(a.direction=!a.direction),a.previousSort=0,a.neverBeenRating="Heya!",a.ratingDirDown=!a.ratingDirDown,a.nameDirDown=null},a.toggleNameSorting=function(){a.neverBeenName||(a.direction=!1,a.nameDirDown=!1),a.ordering="Name",1==a.previousSort&&(a.direction=!a.direction),a.previousSort=1,a.neverBeenName="beeh here",a.nameDirDown=!a.nameDirDown,a.ratingDirDown=null},a.initializeMap=function(){var b=document.getElementById("map"),c=new google.maps.LatLng(51.5362177,-.0829855),d={center:c,zoom:12};a.map=new google.maps.Map(b,d);new google.maps.Marker({position:c,map:a.map,title:"My Position"})},a.setMarkers=function(b){for(var c=0;c<b.length;c++){var d=new google.maps.LatLng(b[c].Address.Latitude,b[c].Address.Longitude);new google.maps.Marker({position:d,map:a.map,animation:google.maps.Animation.DROP,title:b[c].Name})}}}]),angular.module("pageDemoApp").directive("rating",["$log","$timeout",function(){return{templateUrl:"/views/rating.html",restrict:"A",scope:{rating:"="},priority:100,controller:["$scope",function(a){a.rated=function(b){return b<parseFloat(a.rating)},a.half=function(b){return parseFloat(a.rating)-parseInt(a.rating)!=0&&b==parseInt(a.rating)}}]}}]),angular.module("pageDemoApp").directive("tabs",["$log","$timeout",function(){return{templateUrl:"/views/tabs.html",restrict:"AEC",priority:100,replace:!0,controller:["$scope",function(a){a.activeTab=0,a.getActiveTab=function(b){return b==a.activeTab},a.setActiveTab=function(b,c){b.preventDefault(),a.activeTab=c,1!=c||a.beenHere||(a.initializeMap(),a.setMarkers(a.data),a.beenHere="yeah")}}]}}]),angular.module("pageDemoApp").run(["$templateCache",function(a){a.put("/views/main.html",'<div class="header"><div tabs></div><img class="logo" src=""><h3 class="text-muted">Demo Page</h3></div><div id="first_tab" data-ng-if="getActiveTab(0);"><div class="row"><div class="col-sm-12 filterbox"><div class="form-group filters"><ul><li><input type="text" class="form-control" id="nameFilter" placeholder="Filter restaurants by name" data-ng-model="namefil"></li><li><p><a class="btn btn-primary" ng-href="" data-ng-click="toggleNameSorting()">Sort By Name <i data-ng-if="nameDirDown != null && nameDirDown" class="fa fa-chevron-down"></i><i data-ng-if="nameDirDown != null && !nameDirDown" class="fa fa-chevron-up"></i></a></p></li><li><p><a class="btn btn-primary" ng-href="" data-ng-click="toggleRatingSort()">Sort By Rating <i data-ng-if="ratingDirDown != null && ratingDirDown" class="fa fa-chevron-down"></i><i data-ng-if="ratingDirDown != null && !ratingDirDown" class="fa fa-chevron-up"></i></a></p></li></ul></div></div></div><div class="row"><div class="row border-row" data-ng-repeat="row in data | filter:{Name: namefil} | orderBy:ordering:direction"><div class="col-sm-2 col-xs-2"><img data-ng-src="{{row.LogoUrl}}" class="img-rounded"></div><div class="col-sm-5 col-xs-7"><h4>{{row.Name}}</h4><div class="info"><p>{{row.Address.FirstLine}}, {{row.Address.City}} {{row.Address.Postcode}}</p><div rating="row.ratings.value" class="stars pull-left"></div><p class="reviews pull-left">(<span>{{row.ratings.number}}</span>)</p><p class="distance pull-left">{{row.distance}}</p></div></div></div></div></div><div id="second_tab" data-ng-show="getActiveTab(1);"><div id="map"></div></div><div class="footer"><p>_Alz 2014</p></div>'),a.put("/views/rating.html",'<span data-ng-if="rating"><i class="fa fa-star" data-ng-class="{\'rated\': rated(0), \'fa-star-half-empty\': half(0) }"></i> <i class="fa fa-star" data-ng-class="{\'rated\': rated(1), \'fa-star-half-empty\': half(1) }"></i> <i class="fa fa-star" data-ng-class="{\'rated\': rated(2), \'fa-star-half-empty\': half(2) }"></i> <i class="fa fa-star" data-ng-class="{\'rated\': rated(3), \'fa-star-half-empty\': half(3) }"></i> <i class="fa fa-star" data-ng-class="{\'rated\': rated(4), \'fa-star-half-empty\': half(4) }"></i> <i class="fa fa-star" data-ng-class="{\'rated\': rated(5), \'fa-star-half-empty\': half(5) }"></i></span>'),a.put("/views/tabs.html",'<ul id="tabs" class="nav nav-pills pull-right"><li class="active" data-ng-click="setActiveTab($event, 0)" data-ng-class="{ \'active\': getActiveTab(0) }"><a ng-href="">List</a></li><li data-ng-click="setActiveTab($event, 1);" data-ng-class="{ \'active\': getActiveTab(1) }"><a ng-href="">Map</a></li></ul>')}]);